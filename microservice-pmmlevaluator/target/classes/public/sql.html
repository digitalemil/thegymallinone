<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
        <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title></title>

</head>

<body class="body">
        <div id="alldiv" class="" style="width: calc(100% - 240px);">
                <div id="text" class="">
                        <table>
                                <tr>
                                        <td>
                                                <input class="form-control" style="width: 90%;" id="sql" type="text"
                                                        value="SELECT count(*) FROM"></input>
                                        </td>
                                        <td style="width: 20%;">
                                                <button class="btn" onclick="doExec()">Execute</button>
                                        </td>
                                </tr>
                                <tr>
                                        <td colspan="2" style="width: 100%;">
                                                <textarea class="form-control" style="width: 100%;" columns="60"
                                                        rows="20" id="data"></textarea>
                                        </td>
                                </tr>
                                <tr>
                                        <td colspan="2" style="width: 100%;text-align: right;">
                                                <button class="btn" style="text-align: right;"
                                                        onclick="document.getElementById('data').value='';">Clear</button>
                                        </td>
                                </tr>
                        </table>


                </div>
        </div>
        <script>
                function doExec() {
                        let json = '{"sql":"' + document.getElementById("sql").value + '"}';
                        postJSON(json);
                }

                function postJSON(json) {
                        var req = new XMLHttpRequest();
                        req.onreadystatechange = function () {
                                console.log("JSON sent: " + json);
                                if (req.readyState == 4) {
                                        document.getElementById("data").value = req.responseText;
                                }
                        }
                        req.open("POST", "execute", true);
                        req.setRequestHeader("Content-type", "application/json");
                        req.send(json);
                }

        </script>

</body>

</html>